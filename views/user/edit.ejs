<!--
including header content which is common for all pages
-->
<%- include ../layouts/header.ejs %>    
        
<% if (messages.error) { %>
    <p style="color:red"><%- messages.error %></p>
<% } %>
 
<% if (messages.success) { %>
    <p style="color:green"><%- messages.success %></p>
<% } %>
 <p id="error" style="color:red"></p>
<form action="/users/edit/<%= id %>" method="post" name="form1" onsubmit="return validateform()">
    <table width="25%" border="0">
        <tr> 
            <td>Name</td>
            <td><input type="text" name="name" id="name" value="<%= name %>" /></td>
        </tr>
        <tr> 
            <td>Age</td>
            <td><input type="text" name="age" value="<%= age %>" /></td>
        </tr>
        <tr> 
            <td>Email</td>
            <td><input type="text" name="email" value="<%= email %>" /></td>
        </tr>
        <tr> 
            <td></td>
            <td><input type="submit" name="Submit" value="Update" /></td>
        </tr>
    </table>
    <input type="hidden" name="_method" value="PUT" />
</form>
 <script>
 function validateform(){
    var name=document.getElementById("name").value;
    var alphaExp = /^[A-Za-z]+-[^\\s]+/;      
    var age=document.getElementById("ageTextBox").value;
    if (!name.match(alphaExp)) {
        document.getElementById("error").innerHTML="Enter proper name with only alphabets and with one Hypen. Ex : asmit-patil ";
        return false;
    }
    if ((name.length < 5) || (name.length > 15))
    {
        document.getElementById("error").innerHTML="Name sholud be greater than 5 characters and less than 16 characters";
        return false;
    }
    //age = parseInt(age, 10);

    //check if age is a number or less than or greater than 100
    if (isNaN(age) || age < 18 || age > 100)
    { 
        document.getElementById("error").innerHTML="The age must be a number between 18 and 100";
        return false;
    }
    

   }   
 
 </script>
<!--
including footer content which is common for all pages
-->
<%- include ../layouts/footer.ejs %>